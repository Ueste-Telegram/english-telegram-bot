<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìö English Vocabulary Bot</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
        }
        
        /* –ö–ê–†–¢–û–ß–ö–ê */
        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            color: #333;
        }
        
        /* –ö–ù–û–ü–ö–ò */
        .btn {
            background: linear-gradient(90deg, #6a11cb, #2575fc);
            color: white;
            border: none;
            padding: 16px 24px;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            margin: 10px 0;
            width: 100%;
            transition: all 0.3s;
        }
        
        .btn:active {
            transform: scale(0.98);
        }
        
        .btn-small {
            padding: 12px 20px;
            font-size: 16px;
        }
        
        /* –°–õ–û–í–û –ò –ü–ï–†–ï–í–û–î */
        .word-display {
            font-size: 48px;
            font-weight: bold;
            text-align: center;
            margin: 30px 0;
            color: #6a11cb;
            min-height: 80px;
        }
        
        .translation-display {
            font-size: 32px;
            text-align: center;
            margin: 20px 0;
            color: #666;
            min-height: 50px;
        }
        
        /* –°–¢–ê–¢–ò–°–¢–ò–ö–ê */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .stat-box {
            background: rgba(106, 17, 203, 0.1);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 28px;
            font-weight: bold;
            color: #6a11cb;
        }
        
        .stat-label {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        
        /* –ü–†–û–ì–†–ï–°–° –ë–ê–† */
        .progress-container {
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #6a11cb, #2575fc);
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        /* –†–ï–ñ–ò–ú–´ */
        .mode-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .mode-btn {
            background: white;
            border: 2px solid #6a11cb;
            color: #6a11cb;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .mode-btn:active {
            background: #6a11cb;
            color: white;
        }
        
        /* –°–ö–†–´–¢–´–ï –≠–õ–ï–ú–ï–ù–¢–´ */
        .hidden {
            display: none;
        }
        
        /* –ú–û–ë–ò–õ–¨–ù–ê–Ø –ê–î–ê–ü–¢–ê–¶–ò–Ø */
        @media (max-width: 480px) {
            .word-display { font-size: 36px; }
            .translation-display { font-size: 24px; }
            .btn { padding: 14px 20px; font-size: 16px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–ê–ü–ö–ê -->
        <div style="text-align: center; padding: 20px 0;">
            <h1>üìö English Vocabulary</h1>
            <p style="opacity: 0.8; margin-top: 5px;">–£—á–∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ª–µ–≥–∫–æ!</p>
        </div>
        
        <!-- –ü–†–û–ì–†–ï–°–° -->
        <div class="card">
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                <span>–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                <span id="progress-text">0/0</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-bar" style="width: 0%"></div>
            </div>
        </div>
        
        <!-- –ö–ê–†–¢–û–ß–ö–ê –°–õ–û–í–ê -->
        <div class="card" id="flashcard">
            <div class="word-display" id="english-word">hello</div>
            <div class="translation-display hidden" id="russian-translation">–ø—Ä–∏–≤–µ—Ç</div>
            
            <div style="margin-top: 30px;">
                <button class="btn" onclick="showTranslation()" id="show-btn">
                    üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥
                </button>
                <button class="btn btn-small hidden" onclick="nextWord()" id="next-btn">
                    –î–∞–ª–µ–µ ‚Üí
                </button>
            </div>
            
            <div style="margin-top: 20px; display: flex; gap: 10px;">
                <button style="flex: 1; background: #4CAF50;" class="btn btn-small" onclick="markAsKnown()">
                    ‚úÖ –ó–Ω–∞—é
                </button>
                <button style="flex: 1; background: #FF9800;" class="btn btn-small" onclick="markAsReview()">
                    üîÅ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å
                </button>
            </div>
        </div>
        
        <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
        <div class="card">
            <h3 style="margin-bottom: 15px; text-align: center;">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-number" id="learned-words">0</div>
                    <div class="stat-label">–í—ã—É—á–µ–Ω–æ</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="today-words">0</div>
                    <div class="stat-label">–°–µ–≥–æ–¥–Ω—è</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="streak-days">0</div>
                    <div class="stat-label">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
                </div>
            </div>
        </div>
        
        <!-- –†–ï–ñ–ò–ú–´ –û–ë–£–ß–ï–ù–ò–Ø -->
        <div class="card">
            <h3 style="margin-bottom: 15px; text-align: center;">üéØ –†–µ–∂–∏–º—ã –æ–±—É—á–µ–Ω–∏—è</h3>
            <div class="mode-grid">
                <div class="mode-btn" onclick="setMode('cards')">
                    üóÇÔ∏è –ö–∞—Ä—Ç–æ—á–∫–∏
                </div>
                <div class="mode-btn" onclick="setMode('test')">
                    üìù –¢–µ—Å—Ç
                </div>
                <div class="mode-btn" onclick="setMode('typing')">
                    ‚å®Ô∏è –ü—Ä–∞–≤–æ–ø–∏—Å–∞–Ω–∏–µ
                </div>
                <div class="mode-btn" onclick="setMode('audio')">
                    üîä –ê—É–¥–∏–æ
                </div>
            </div>
        </div>
        
        <!-- –°–õ–û–í–ê–†–¨ -->
        <div class="card">
            <h3 style="margin-bottom: 15px; text-align: center;">üìñ –ú–æ–π —Å–ª–æ–≤–∞—Ä—å</h3>
            <div id="word-list" style="max-height: 200px; overflow-y: auto;">
                <!-- –°–ª–æ–≤–∞ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
            <button class="btn" onclick="showWordList()" style="margin-top: 15px;">
                –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å–ª–æ–≤–∞
            </button>
        </div>
    </div>

    <script>
        // ==================== –ë–ê–ó–ê –î–ê–ù–ù–´–• –°–õ–û–í ====================
        // –ü—Ä–æ—Å—Ç–∞—è –±–∞–∑–∞ —Å–ª–æ–≤ (–º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å)
        const vocabulary = [
            // –£—Ä–æ–≤–µ–Ω—å 1 (—Å–∞–º—ã–µ –ø—Ä–æ—Å—Ç—ã–µ)
            { en: "hello", ru: "–ø—Ä–∏–≤–µ—Ç", category: "–û—Å–Ω–æ–≤—ã", level: 1 },
            { en: "goodbye", ru: "–¥–æ —Å–≤–∏–¥–∞–Ω–∏—è", category: "–û—Å–Ω–æ–≤—ã", level: 1 },
            { en: "thank you", ru: "—Å–ø–∞—Å–∏–±–æ", category: "–û—Å–Ω–æ–≤—ã", level: 1 },
            { en: "please", ru: "–ø–æ–∂–∞–ª—É–π—Å—Ç–∞", category: "–û—Å–Ω–æ–≤—ã", level: 1 },
            { en: "yes", ru: "–¥–∞", category: "–û—Å–Ω–æ–≤—ã", level: 1 },
            { en: "no", ru: "–Ω–µ—Ç", category: "–û—Å–Ω–æ–≤—ã", level: 1 },
            { en: "cat", ru: "–∫–æ—Ç", category: "–ñ–∏–≤–æ—Ç–Ω—ã–µ", level: 1 },
            { en: "dog", ru: "—Å–æ–±–∞–∫–∞", category: "–ñ–∏–≤–æ—Ç–Ω—ã–µ", level: 1 },
            { en: "house", ru: "–¥–æ–º", category: "–î–æ–º", level: 1 },
            { en: "car", ru: "–º–∞—à–∏–Ω–∞", category: "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç", level: 1 },
            
            // –£—Ä–æ–≤–µ–Ω—å 2
            { en: "beautiful", ru: "–∫—Ä–∞—Å–∏–≤—ã–π", category: "–ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ", level: 2 },
            { en: "interesting", ru: "–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π", category: "–ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ", level: 2 },
            { en: "computer", ru: "–∫–æ–º–ø—å—é—Ç–µ—Ä", category: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", level: 2 },
            { en: "friend", ru: "–¥—Ä—É–≥", category: "–õ—é–¥–∏", level: 2 },
            { en: "family", ru: "—Å–µ–º—å—è", category: "–õ—é–¥–∏", level: 2 },
            
            // –£—Ä–æ–≤–µ–Ω—å 3
            { en: "environment", ru: "–æ–∫—Ä—É–∂–∞—é—â–∞—è —Å—Ä–µ–¥–∞", category: "–ü—Ä–∏—Ä–æ–¥–∞", level: 3 },
            { en: "opportunity", ru: "–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å", category: "–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ", level: 3 },
            { en: "knowledge", ru: "–∑–Ω–∞–Ω–∏–µ", category: "–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ", level: 3 },
            { en: "government", ru: "–ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ", category: "–û–±—â–µ—Å—Ç–≤–æ", level: 3 }
        ];

        // ==================== –ü–ï–†–ï–ú–ï–ù–ù–´–ï ====================
        let currentWordIndex = 0;
        let learnedWords = [];
        let todayWords = [];
        let streak = 0;
        let currentMode = 'cards';

        // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        document.addEventListener('DOMContentLoaded', function() {
            loadUserData();
            showRandomWord();
            updateStats();
            updateWordList();
        });

        // ==================== –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ —Å–ª–æ–≤–æ
        function showRandomWord() {
            // –ï—Å–ª–∏ —Å–ª–æ–≤–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å - –Ω–∞—á–∏–Ω–∞–µ–º —Å–Ω–∞—á–∞–ª–∞
            if (currentWordIndex >= vocabulary.length) {
                currentWordIndex = 0;
            }
            
            const word = vocabulary[currentWordIndex];
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            document.getElementById('english-word').textContent = word.en;
            document.getElementById('russian-translation').textContent = word.ru;
            document.getElementById('russian-translation').classList.add('hidden');
            document.getElementById('next-btn').classList.add('hidden');
            document.getElementById('show-btn').classList.remove('hidden');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            updateProgress();
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥
        function showTranslation() {
            document.getElementById('russian-translation').classList.remove('hidden');
            document.getElementById('next-btn').classList.remove('hidden');
            document.getElementById('show-btn').classList.add('hidden');
        }
        
        // –°–ª–µ–¥—É—é—â–µ–µ —Å–ª–æ–≤–æ
        function nextWord() {
            currentWordIndex = (currentWordIndex + 1) % vocabulary.length;
            showRandomWord();
        }
        
        // –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –≤—ã—É—á–µ–Ω–Ω–æ–µ
        function markAsKnown() {
            const word = vocabulary[currentWordIndex];
            const wordId = word.en;
            
            if (!learnedWords.includes(wordId)) {
                learnedWords.push(wordId);
                todayWords.push(wordId);
                
                saveUserData();
                updateStats();
                updateWordList();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                alert('‚úÖ –û—Ç–ª–∏—á–Ω–æ! –°–ª–æ–≤–æ "' + word.en + '" –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑—É—á–µ–Ω–Ω—ã–µ!');
                
                // –°–ª–µ–¥—É—é—â–µ–µ —Å–ª–æ–≤–æ
                setTimeout(nextWord, 500);
            }
        }
        
        // –û—Ç–º–µ—Ç–∏—Ç—å –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
        function markAsReview() {
            alert('üîÅ –°–ª–æ–≤–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å–ø–∏—Å–æ–∫ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è');
            nextWord();
        }
        
        // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
        function updateProgress() {
            const progress = ((currentWordIndex + 1) / vocabulary.length) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';
            document.getElementById('progress-text').textContent = 
                (currentWordIndex + 1) + '/' + vocabulary.length;
        }
        
        // –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        function updateStats() {
            document.getElementById('learned-words').textContent = learnedWords.length;
            document.getElementById('today-words').textContent = todayWords.length;
            document.getElementById('streak-days').textContent = streak;
        }
        
        // –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤
        function updateWordList() {
            const container = document.getElementById('word-list');
            container.innerHTML = '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ 5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–ª–æ–≤
            const recentWords = learnedWords.slice(-5);
            
            recentWords.forEach(wordId => {
                const word = vocabulary.find(w => w.en === wordId);
                if (word) {
                    const div = document.createElement('div');
                    div.style.padding = '8px';
                    div.style.borderBottom = '1px solid #eee';
                    div.innerHTML = `
                        <strong>${word.en}</strong> - ${word.ru}
                        <small style="color: #666; float: right;">${word.category}</small>
                    `;
                    container.appendChild(div);
                }
            });
            
            if (recentWords.length === 0) {
                container.innerHTML = '<div style="text-align: center; color: #666; padding: 20px;">–ï—â—ë –Ω–µ—Ç –∏–∑—É—á–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤</div>';
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å–ª–æ–≤–∞
        function showWordList() {
            let message = "üìñ –í–ê–® –°–õ–û–í–ê–†–¨:\n\n";
            learnedWords.forEach((wordId, index) => {
                const word = vocabulary.find(w => w.en === wordId);
                if (word) {
                    message += `${index + 1}. ${word.en} - ${word.ru}\n`;
                }
            });
            
            if (learnedWords.length === 0) {
                message = "–í—ã –µ—â—ë –Ω–µ –≤—ã—É—á–∏–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ —Å–ª–æ–≤–∞. –ù–∞—á–Ω–∏—Ç–µ —Å–µ–π—á–∞—Å!";
            }
            
            alert(message);
        }

        // ==================== –°–û–•–†–ê–ù–ï–ù–ò–ï –î–ê–ù–ù–´–• ====================
        
        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
        function saveUserData() {
            const userData = {
                learnedWords: learnedWords,
                todayWords: todayWords,
                streak: streak,
                lastStudyDate: new Date().toDateString()
            };
            localStorage.setItem('englishBotData', JSON.stringify(userData));
        }
        
        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
        function loadUserData() {
            const saved = localStorage.getItem('englishBotData');
            if (saved) {
                const data = JSON.parse(saved);
                learnedWords = data.learnedWords || [];
                todayWords = data.todayWords || [];
                streak = data.streak || 0;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä–∏–∫ (–¥–Ω–∏ –ø–æ–¥—Ä—è–¥)
                const today = new Date().toDateString();
                if (data.lastStudyDate !== today) {
                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Å–ª–æ–≤–∞
                    todayWords = [];
                }
            }
        }

        // ==================== –†–ï–ñ–ò–ú–´ –û–ë–£–ß–ï–ù–ò–Ø ====================
        
        // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–∂–∏–º
        function setMode(mode) {
            currentMode = mode;
            
            switch(mode) {
                case 'cards':
                    alert('‚úÖ –†–µ–∂–∏–º –∫–∞—Ä—Ç–æ—á–µ–∫ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');
                    showRandomWord();
                    break;
                    
                case 'test':
                    startTestMode();
                    break;
                    
                case 'typing':
                    startTypingMode();
                    break;
                    
                case 'audio':
                    alert('üîä –ê—É–¥–∏–æ —Ä–µ–∂–∏–º —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è!');
                    break;
            }
        }
        
        // –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
        function startTestMode() {
            const word = vocabulary[currentWordIndex];
            
            // –°–æ–∑–¥–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
            let answers = [word.ru];
            while (answers.length < 4) {
                const randomWord = vocabulary[Math.floor(Math.random() * vocabulary.length)];
                if (!answers.includes(randomWord.ru)) {
                    answers.push(randomWord.ru);
                }
            }
            
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –æ—Ç–≤–µ—Ç—ã
            answers = shuffleArray(answers);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ—Å—Ç
            const answerHTML = answers.map((answer, index) => `
                <button class="btn" onclick="checkAnswer('${answer}', '${word.ru}')" 
                        style="margin: 5px 0; text-align: left; background: white; color: #333; border: 2px solid #6a11cb;">
                    ${String.fromCharCode(65 + index)}. ${answer}
                </button>
            `).join('');
            
            document.getElementById('english-word').innerHTML = `
                <div style="font-size: 24px; margin-bottom: 20px;">–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥:</div>
                <div style="font-size: 36px; color: #6a11cb;">"${word.en}"</div>
            `;
            
            document.getElementById('russian-translation').innerHTML = answerHTML;
            document.getElementById('russian-translation').classList.remove('hidden');
            document.getElementById('show-btn').classList.add('hidden');
            document.getElementById('next-btn').classList.add('hidden');
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –≤ —Ç–µ—Å—Ç–µ
        function checkAnswer(selected, correct) {
            if (selected === correct) {
                alert('‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!');
                markAsKnown();
            } else {
                alert('‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ' + correct);
                nextWord();
            }
        }
        
        // –ù–∞—á–∞—Ç—å —Ä–µ–∂–∏–º –ø—Ä–∞–≤–æ–ø–∏—Å–∞–Ω–∏—è
        function startTypingMode() {
            const word = vocabulary[currentWordIndex];
            
            document.getElementById('english-word').innerHTML = `
                <div style="font-size: 24px; margin-bottom: 20px;">–ù–∞–ø–∏—à–∏—Ç–µ –ø–æ-–∞–Ω–≥–ª–∏–π—Å–∫–∏:</div>
                <div style="font-size: 32px; color: #6a11cb;">"${word.ru}"</div>
            `;
            
            document.getElementById('russian-translation').innerHTML = `
                <input type="text" id="user-answer" 
                       placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–µ —Å–ª–æ–≤–æ..." 
                       style="width: 100%; padding: 15px; font-size: 18px; border: 3px solid #6a11cb; border-radius: 10px; margin: 20px 0;">
                <button class="btn" onclick="checkTypingAnswer('${word.en}')">
                    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
                </button>
            `;
            document.getElementById('russian-translation').classList.remove('hidden');
            document.getElementById('show-btn').classList.add('hidden');
            document.getElementById('next-btn').classList.add('hidden');
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–∞–≤–æ–ø–∏—Å–∞–Ω–∏—è
        function checkTypingAnswer(correct) {
            const userAnswer = document.getElementById('user-answer').value.trim().toLowerCase();
            
            if (userAnswer === correct.toLowerCase()) {
                alert('‚úÖ –ò–¥–µ–∞–ª—å–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω–æ!');
                markAsKnown();
            } else {
                alert(`‚ùå –ü–æ—á—Ç–∏! –ü—Ä–∞–≤–∏–ª—å–Ω–æ: ${correct}`);
                nextWord();
            }
        }

        // ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        
        // –ü–µ—Ä–µ–º–µ—à–∞—Ç—å –º–∞—Å—Å–∏–≤
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // ==================== TELEGRAM –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø ====================
        
        // –ï—Å–ª–∏ –±–æ—Ç –æ—Ç–∫—Ä—ã—Ç –≤ Telegram
        const tg = window.Telegram?.WebApp;
        if (tg) {
            tg.expand(); // –†–∞—Å–∫—Ä—ã—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
            tg.ready(); // –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
        }
    </script>
</body>
  </html>
